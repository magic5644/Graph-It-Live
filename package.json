{
  "name": "graph-it-live",
  "displayName": "Graph-It-Live",
  "description": "Visualize file dependencies as an interactive graph. Analyze imports, detect circular dependencies, and explore project architecture. Includes MCP Server for AI/LLM integration with GitHub Copilot, cursor, Antigravity or other AI assistants.",
  "version": "0.0.1",
  "publisher": "magic5644",
  "author": {
    "name": "magic56"
  },
  "license": "MIT",
  "repository": {
    "type": "git",
    "url": "https://github.com/magic5644/Graph-It-Live.git"
  },
  "homepage": "https://github.com/magic5644/Graph-It-Live/blob/main/README.md",
  "bugs": {
    "url": "https://github.com/magic5644/Graph-It-Live/issues"
  },
  "qna": "https://github.com/magic5644/Graph-It-Live/discussions",
  "icon": "media/Graph-It-Live-Logo-256.png",
  "galleryBanner": {
    "color": "#2D3748",
    "theme": "dark"
  },
  "keywords": [
    "dependency",
    "graph",
    "visualization",
    "import",
    "typescript",
    "javascript",
    "react",
    "vue",
    "svelte",
    "graphql",
    "circular dependency",
    "architecture",
    "code analysis",
    "symbol",
    "ast",
    "call graph",
    "dead code",
    "unused exports",
    "breaking changes",
    "mcp",
    "mcp server",
    "model context protocol",
    "copilot",
    "ai",
    "llm",
    "refactoring",
    "impact analysis"
  ],
  "engines": {
    "vscode": "^1.96.0",
    "node": ">=20.0.0"
  },
  "categories": [
    "Visualization",
    "Programming Languages",
    "Linters",
    "AI",
    "Other"
  ],
  "activationEvents": [
    "onStartupFinished"
  ],
  "main": "./dist/extension.js",
  "contributes": {
    "mcpServerDefinitionProviders": [
      {
        "id": "graphItLiveMcp",
        "label": "Graph-It-Live Dependency Analyzer"
      }
    ],
    "viewsContainers": {
      "panel": [
        {
          "id": "graph-it-live-explorer",
          "title": "Graph-It-Live",
          "icon": "$(type-hierarchy-sub)"
        }
      ]
    },
    "views": {
      "graph-it-live-explorer": [
        {
          "type": "webview",
          "id": "graph-it-live.graphView",
          "name": "Dependency Graph",
          "icon": "$(type-hierarchy-sub)"
        }
      ]
    },
    "commands": [
      {
        "command": "graph-it-live.showGraph",
        "title": "Show Dependency Graph",
        "category": "Graph-It-Live",
        "icon": "$(type-hierarchy-sub)"
      },
      {
        "command": "graph-it-live.forceReindex",
        "title": "Force Graph-It-Live re-index",
        "category": "Graph-It-Live"
      },
      {
        "command": "graph-it-live.showIndexStatus",
        "title": "Show Graph-It-Live index status",
        "category": "Graph-It-Live"
      },
      {
        "command": "graph-it-live.expandAllNodes",
        "title": "Toggle Expand/Collapse All Nodes",
        "icon": "$(search-expand-results)",
        "category": "Graph-It-Live"
      },
      {
        "command": "graph-it-live.refreshGraph",
        "title": "Refresh Graph",
        "icon": "$(refresh)",
        "category": "Graph-It-Live"
      },
      {
        "command": "graph-it-live.toggleViewMode",
        "title": "Toggle File/Symbol View",
        "icon": "$(sparkle)",
        "category": "Graph-It-Live"
      },
      {
        "command": "graph-it-live.enableUnusedFilter",
        "title": "Filter Unused Dependencies",
        "icon": "$(eye)",
        "category": "Graph-It-Live"
      },
      {
        "command": "graph-it-live.disableUnusedFilter",
        "title": "Show All Dependencies",
        "icon": "$(eye-closed)",
        "category": "Graph-It-Live"
      }
    ],
    "menus": {
      "editor/title": [
        {
          "command": "graph-it-live.showGraph",
          "when": "resourceExtname =~ /\\.(ts|tsx|js|jsx|vue|svelte|mjs|cjs|gql|graphql)$/",
          "group": "navigation"
        }
      ],
      "view/title": [
        {
          "command": "graph-it-live.refreshGraph",
          "when": "view == graph-it-live.graphView",
          "group": "navigation@1"
        },
        {
          "command": "graph-it-live.toggleViewMode",
          "when": "view == graph-it-live.graphView",
          "group": "navigation@2"
        },
        {
          "command": "graph-it-live.expandAllNodes",
          "when": "view == graph-it-live.graphView",
          "group": "navigation@3"
        },
        {
          "command": "graph-it-live.enableUnusedFilter",
          "when": "view == graph-it-live.graphView && !graph-it-live.unusedFilterActive",
          "group": "navigation@4"
        },
        {
          "command": "graph-it-live.disableUnusedFilter",
          "when": "view == graph-it-live.graphView && graph-it-live.unusedFilterActive",
          "group": "navigation@4"
        }
      ]
    },
    "configuration": {
      "title": "Graph-It-Live",
      "properties": {
        "graph-it-live.maxDepth": {
          "type": "number",
          "default": 50,
          "description": "Maximum dependency depth to analyze",
          "minimum": 1,
          "maximum": 100
        },
        "graph-it-live.excludeNodeModules": {
          "type": "boolean",
          "default": true,
          "description": "Exclude node_modules from graph"
        },
        "graph-it-live.enableMcpServer": {
          "type": "boolean",
          "default": false,
          "description": "Enable MCP (Model Context Protocol) server for LLM integration. When enabled, exposes dependency analysis tools to GitHub Copilot and other MCP-compatible AI assistants.",
          "markdownDescription": "Enable **MCP (Model Context Protocol)** server for LLM integration. When enabled, exposes dependency analysis tools to GitHub Copilot and other MCP-compatible AI assistants.\n\n[Learn more about MCP](https://code.visualstudio.com/api/extension-guides/ai/mcp)"
        },
        "graph-it-live.enableMcpDebugLogging": {
          "type": "boolean",
          "default": false,
          "description": "Enable detailed debug logging for MCP server. Creates ~/mcp-debug.log with automatic rotation (5MB limit per file, keeps 2 files). Only enable for troubleshooting.",
          "markdownDescription": "**[Privacy Notice]** Enable detailed debug logging for MCP server. Creates `~/mcp-debug.log` with automatic rotation (5MB limit per file, keeps last 2 files). Log file may contain project paths and file names. Only enable temporarily for troubleshooting, then disable to prevent unnecessary data accumulation."
        },
        "graph-it-live.enableBackgroundIndexing": {
          "type": "boolean",
          "default": true,
          "description": "Enable background indexing for faster reverse dependency lookups. When enabled, the extension will index all files in the workspace at startup."
        },
        "graph-it-live.persistIndex": {
          "type": "boolean",
          "default": false,
          "description": "Persist the reverse index to disk for faster startup. Files are validated using mtime and size to detect changes. Enable this option only if you have some performance issues on large projects."
        },
        "graph-it-live.indexingConcurrency": {
          "type": "number",
          "default": 4,
          "description": "Number of files to process in parallel during background indexing. Lower values reduce CPU usage but increase indexing time.",
          "markdownDescription": "Number of files to process in parallel during background indexing.\n\n⚠️ **Note**: This setting is only editable when Performance Profile is set to 'custom'. Otherwise, it's automatically configured by the selected profile.",
          "minimum": 1,
          "maximum": 16,
          "editPresentation": "multilineText",
          "order": 100
        },
        "graph-it-live.indexingStartDelay": {
          "type": "number",
          "default": 1000,
          "description": "Delay in milliseconds before starting background indexing after extension activation. Allows VS Code to finish startup first.",
          "minimum": 0,
          "maximum": 30000
        },
        "graph-it-live.logLevel": {
          "type": "string",
          "enum": [
            "debug",
            "info",
            "warn",
            "error",
            "none"
          ],
          "default": "info",
          "description": "Logging level for the extension. Debug shows all logs, none disables logging.",
          "markdownDescription": "Logging level for the extension output channel.\n\n- **debug**: Verbose output for troubleshooting\n- **info**: Standard operation logs\n- **warn**: Warnings only\n- **error**: Errors only\n- **none**: Disable logging"
        },
        "graph-it-live.unusedDependencyMode": {
          "type": "string",
          "enum": [
            "hide",
            "dim"
          ],
          "default": "hide",
          "description": "Choose how to display unused dependencies in the graph. 'hide' removes them, 'dim' reduces their opacity.",
          "markdownDescription": "Choose how to display unused dependencies in the graph.\n\n- **hide**: Remove edges for imports that are not actually used in the code\n- **dim**: Show unused edges with reduced opacity"
        },
        "graph-it-live.unusedAnalysisConcurrency": {
          "type": "number",
          "default": 4,
          "minimum": 1,
          "maximum": 16,
          "description": "Number of source files to analyze in parallel for unused dependency detection. Lower values use less memory but are slower. Adjust based on your machine's capabilities.",
          "markdownDescription": "Number of source files to analyze in parallel for unused dependency detection.\n\n⚠️ **Note**: This setting is only editable when Performance Profile is set to 'custom'. Otherwise, it's automatically configured by the selected profile.\n\n- **1-2**: Low-memory machines (<4GB RAM)\n- **4**: Default, balanced\n- **8-16**: High-performance machines (16GB+ RAM)",
          "order": 101
        },
        "graph-it-live.unusedAnalysisMaxEdges": {
          "type": "number",
          "default": 2000,
          "minimum": 0,
          "description": "Skip automatic unused dependency analysis if the graph has more edges than this threshold. Set to 0 to disable the limit. Manual analysis via toolbar button still works.",
          "markdownDescription": "Skip automatic unused dependency analysis if the graph exceeds this edge count.\n\n⚠️ **Note**: This setting is only editable when Performance Profile is set to 'custom'. Otherwise, it's automatically configured by the selected profile.\n\n- **0**: No limit (always analyze)\n- **1000-2000**: Recommended for low-memory machines\n- **5000+**: High-performance machines",
          "order": 102
        },
        "graph-it-live.persistUnusedAnalysisCache": {
          "type": "boolean",
          "default": false,
          "description": "Cache unused dependency analysis results to disk for faster subsequent loads. Results are invalidated when files change.",
          "markdownDescription": "Cache unused dependency analysis results to disk.\n\n⚠️ **Experimental**: Enable for large projects with stable dependencies. Disable if you experience stale results."
        },
        "graph-it-live.maxUnusedAnalysisCacheSize": {
          "type": "number",
          "default": 200,
          "minimum": 10,
          "maximum": 1000,
          "description": "Maximum number of source files to cache for unused dependency analysis. Uses LRU (Least Recently Used) eviction when limit is reached.",
          "markdownDescription": "Maximum number of source files to cache for unused dependency analysis.\n\n- **Lower values** (50-100): Reduce memory usage on constrained systems\n- **Higher values** (500-1000): Better cache hit rate on large projects\n\nUses **LRU eviction** - least recently accessed entries are removed when limit is reached."
        },
        "graph-it-live.maxCacheSize": {
          "type": "number",
          "default": 500,
          "minimum": 50,
          "maximum": 2000,
          "description": "Maximum number of file dependency analyses to keep in memory cache. Lower values reduce memory usage.",
          "markdownDescription": "Maximum number of file dependency analyses to keep in memory cache.\n\n⚠️ **Note**: This setting is only editable when Performance Profile is set to 'custom'. Otherwise, it's automatically configured by the selected profile.",
          "order": 103
        },
        "graph-it-live.maxSymbolCacheSize": {
          "type": "number",
          "default": 200,
          "minimum": 50,
          "maximum": 1000,
          "description": "Maximum number of symbol analysis results to keep in memory cache. Lower values reduce memory usage.",
          "markdownDescription": "Maximum number of symbol analysis results to keep in memory cache.\n\n⚠️ **Note**: This setting is only editable when Performance Profile is set to 'custom'. Otherwise, it's automatically configured by the selected profile.",
          "order": 104
        },
        "graph-it-live.performanceProfile": {
          "type": "string",
          "enum": [
            "default",
            "low-memory",
            "high-performance",
            "custom"
          ],
          "default": "default",
          "description": "Performance profile preset that automatically configures cache sizes and concurrency.",
          "markdownDescription": "Performance profile preset:\n\n- **default**: Balanced settings (4GB-8GB RAM)\n- **low-memory**: Optimized for machines with <4GB RAM\n- **high-performance**: Maximizes speed on powerful machines (16GB+ RAM)\n- **custom**: Manual configuration (all performance settings become editable)",
          "order": 99
        }
      }
    }
  },
  "scripts": {
    "vscode:prepublish": "npm run build -- --production",
    "build": "node esbuild.js",
    "watch": "node esbuild.js --watch",
    "compile": "npm run build",
    "test": "vitest --run",
    "test:watch": "vitest --watch",
    "test:unit": "vitest run --run",
    "test:coverage": "vitest run --coverage",
    "test:vscode": "npm run compile && node ./tests/vscode-e2e/runTests.js",
    "test:all": "npm run test:unit",
    "test:bench": "node scripts/run-benchmarks.mjs",
    "test:mcp": "node scripts/test-mcp.js",
    "lint": "eslint src",
    "lint:fix": "eslint src --fix",
    "check:types": "tsc --noEmit",
    "audit": "npm audit",
    "audit:fix": "npm audit fix",
    "package": "vsce package",
    "package:vsix": "vsce package",
    "publish": "vsce publish"
  },
  "dependencies": {
    "@modelcontextprotocol/sdk": "^1.25.1",
    "@types/dagre": "^0.7.53",
    "chokidar": "^5.0.0",
    "dagre": "^0.8.5",
    "react": "^19.2.3",
    "react-dom": "^19.2.3",
    "reactflow": "^11.11.4",
    "tree-sitter": "^0.25.0",
    "tree-sitter-python": "^0.25.0",
    "ts-morph": "^27.0.2",
    "zod": "^4.3.4"
  },
  "devDependencies": {
    "@eslint/js": "^9.39.2",
    "@playwright/test": "^1.57.0",
    "@types/mocha": "^10.0.10",
    "@types/node": "^25.0.3",
    "@types/react": "^19.2.7",
    "@types/react-dom": "^19.2.3",
    "@types/vscode": "^1.96.0",
    "@vitest/coverage-v8": "^4.0.16",
    "@vitest/ui": "^4.0.16",
    "@vscode/test-electron": "^2.5.2",
    "@vscode/vsce": "^3.7.1",
    "esbuild": "^0.27.2",
    "esbuild-css-modules-plugin": "^3.1.5",
    "eslint": "^9.39.2",
    "glob": "^13.0.0",
    "globals": "^16.5.0",
    "mocha": "^11.7.5",
    "playwright": "^1.57.0",
    "typescript": "^5.9.3",
    "typescript-eslint": "^8.51.0",
    "vitest": "^4.0.16"
  }
}
